
buildsystem_src = [
  'buildsystem.h',
  'buildsystem_meson.c',
]

if not sys_windows
  buildsystem_c_args = ['-DPACKAGE_SRC_DIR="'+ meson.source_root() +'"']
else
  buildsystem_c_args = ''
endif

buildsystem_lib = static_library('buildsystem',
    buildsystem_src,
    dependencies : [eina, efl],
    include_directories : config_dir + [include_directories(join_paths('..', '..', 'lib'))],
    install: false,
    c_args : buildsystem_c_args,
)

buildsystem = declare_dependency(
  include_directories: [include_directories('.'), include_directories(join_paths('..', '..', 'lib'))],
  link_with: buildsystem_lib,
  dependencies: [eina],
)

buildsystem_simple = declare_dependency(
  include_directories: [include_directories('.'), include_directories(join_paths('..', '..', 'lib'))],
)
